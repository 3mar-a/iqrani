{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Grid,Card,CardContent,CardMedia,Typography,Container,Button}from'@mui/material';import{Link}from'react-router-dom';import api from'../../config/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookList=()=>{const[books,setBooks]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{const fetchBooks=async()=>{try{const response=await api.get('/reader/books');setBooks(response.data);}catch(error){setError('حدث خطأ في جلب الكتب');}finally{setLoading(false);}};fetchBooks();},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"\\u062C\\u0627\\u0631\\u064A \\u0627\\u0644\\u062A\\u062D\\u0645\\u064A\\u0644...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{children:error});return/*#__PURE__*/_jsxs(Container,{sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,align:\"center\",children:\"\\u0627\\u0644\\u0643\\u062A\\u0628 \\u0627\\u0644\\u0645\\u062A\\u0627\\u062D\\u0629\"}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:4,children:books.map(book=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"200\",image:book.coverImage,alt:book.title}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h6\",component:\"div\",children:book.title}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[book.description.substring(0,100),\"...\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",color:\"primary\",sx:{mt:2},children:[book.price,\" $\"]}),/*#__PURE__*/_jsx(Button,{component:Link,to:\"/books/\".concat(book._id),variant:\"contained\",fullWidth:true,sx:{mt:2},children:\"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644\"})]})]})},book._id))})]});};export default BookList;","map":{"version":3,"names":["React","useState","useEffect","Grid","Card","CardContent","CardMedia","Typography","Container","Button","Link","api","jsx","_jsx","jsxs","_jsxs","BookList","books","setBooks","loading","setLoading","error","setError","fetchBooks","response","get","data","children","sx","mt","variant","component","gutterBottom","align","container","spacing","map","book","item","xs","sm","md","height","image","coverImage","alt","title","color","description","substring","price","to","concat","_id","fullWidth"],"sources":["C:/Users/Omar/Desktop/hgfjhgblknm/frontend/src/components/Books/BookList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Grid, Card, CardContent, CardMedia, Typography, Container, Button } from '@mui/material';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../config/api';\r\n\r\nconst BookList = () => {\r\n  const [books, setBooks] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchBooks = async () => {\r\n      try {\r\n        const response = await api.get('/reader/books');\r\n        setBooks(response.data);\r\n      } catch (error) {\r\n        setError('حدث خطأ في جلب الكتب');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchBooks();\r\n  }, []);\r\n\r\n  if (loading) return <div>جاري التحميل...</div>;\r\n  if (error) return <div>{error}</div>;\r\n\r\n  return (\r\n    <Container sx={{ mt: 4 }}>\r\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\r\n        الكتب المتاحة\r\n      </Typography>\r\n      <Grid container spacing={4}>\r\n        {books.map((book) => (\r\n          <Grid item xs={12} sm={6} md={4} key={book._id}>\r\n            <Card>\r\n              <CardMedia\r\n                component=\"img\"\r\n                height=\"200\"\r\n                image={book.coverImage}\r\n                alt={book.title}\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h6\" component=\"div\">\r\n                  {book.title}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">\r\n                  {book.description.substring(0, 100)}...\r\n                </Typography>\r\n                <Typography variant=\"h6\" color=\"primary\" sx={{ mt: 2 }}>\r\n                  {book.price} $\r\n                </Typography>\r\n                <Button\r\n                  component={Link}\r\n                  to={`/books/${book._id}`}\r\n                  variant=\"contained\"\r\n                  fullWidth\r\n                  sx={{ mt: 2 }}\r\n                >\r\n                  عرض التفاصيل\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default BookList; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}